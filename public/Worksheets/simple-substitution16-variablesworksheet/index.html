<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>Variable Substitution Worksheet</title>
  <style>
    /* ===== PRINT & PAGE SETTINGS ===== */
    
        .print-btn {
            background-color: #e67e22;
        }

        .print-btn:hover {
            background-color: #d35400;
        }

        @media print {
      @page {
                size: 8.5in 11in;
                margin: 0.25in;
        -webkit-print-color-adjust: exact !important;
        print-color-adjust: exact !important;
      }
      .button-container,.generate-btn,.check-btn,
            .print-btn,.static-btn,.save-btn{display:none!important}
      input::placeholder{color:transparent!important;opacity:0!important}
      body{margin:0!important;padding:0.2in!important}
      .problems-grid{page-break-inside:avoid!important}
      .grade-display{position:fixed!important;
                width: 100% !important;
                height: 100% !important;bottom:0.4in!important;left:0;right:0;text-align:center!important}
    }

    /* ===== BASE LAYOUT & FONTS ===== */
    body{
      font-family:'Comic Sans MS',cursive,sans-serif;
      color:#3498db;background:#fff;width:8.5in;margin:0 auto;padding:15px;
                width: 100% !important;
                height: 100% !important;
      box-sizing:border-box;display:flex;flex-direction:column;align-items:center;
      min-height:11in;
    }
    .header{text-align:center;margin-bottom:0.2in}
    .header h1{font-size:24px;margin:0 0 8px;color:#3498db}
    .header .input-row{display:flex;justify-content:center;gap:15px;margin:6px 0}
    .header p{font-size:14px;margin:0;display:flex;align-items:center}
    .header input{
      font-family:'Comic Sans MS',cursive,sans-serif;font-size:14px;border:none;
      border-bottom:1px solid #3498db;outline:none;width:150px;padding:2px 4px;margin:0 5px;
    }
    .header input:focus{border-bottom:2px solid #3498db}

    .example-box{
      text-align:start;margin-bottom:0.2in;padding:8px 15px;border:2px solid #3498db;
      border-radius:6px;background:#f8f9fa;width:6.5in;
    }
    .example-box h3{margin:0 0 4px;color:#5dbce9;font-size:14px}
    .example-box p{margin:3px 0;color:#5dbce9;font-size:13px}

    .problems-grid{
      display:grid;
      grid-template-columns:repeat(4,1fr);
      grid-template-rows:repeat(4,auto);
      gap:0.15in;
      margin:0.2in auto;
                page-break-inside: avoid !important;
      max-width:7.5in;
      width:100%;
      justify-items:center;
    }

    .problem{
      border:1px solid #ccc;
      padding:0.1in 0.08in;
      text-align:center;
      font-size:14px;
      width:1.6in;
      height:1.6in;
      background:#fff;
      border-radius:6px;
      box-shadow:0 1px 3px rgba(0,0,0,0.1);
      position:relative;
      box-sizing:border-box;
      transition:background 0.3s ease;
      display:flex;
      flex-direction:column;
      justify-content:space-between;
      align-items:center;
      margin:0 auto;
    }
    .problem.correct{background:#d4edda}
    .problem.incorrect{background:#f8d7da}
    .problem::before{
      content:attr(data-number);position:absolute;top:-6px;left:-2px;background:#fff;color:#999;
      font-size:9px;padding:1px 4px;border-radius:3px;border:1px solid #eee;
    }
    .problem.correct::before{border-color:#28a745;color:#28a745}
    .problem.incorrect::before{border-color:#dc3545;color:#dc3545}

    .equation{
      margin:0;
      padding:0.08in 0;
      font-family:'Comic Sans MS',cursive;
      font-size:14px;
      color:#3498db;
      line-height:1.3;
      width:100%;
      display:flex;
      flex-direction:column;
      justify-content:center;
      align-items:center;
      flex:1;
    }

    .equation-line {
      margin:2px 0;
      white-space:nowrap;
      text-align:center;
    }

    .variables {
      display:flex;
      flex-direction:column;
      align-items:center;
      margin-bottom:4px;
    }

    .question {
      margin-top:4px;
    }

    .answer-line{
      display:flex;
      align-items:center;
      justify-content:center;
      gap:4px;
      font-size:14px;
      width:100%;
      margin-top:auto;
      padding-bottom:0.04in;
    }

    .answer-line input{
      width:45px;
      height:25px;
      font-size:14px;
      border:2px solid #fdc9ec;
      border-radius:4px;
      background:#ffeaf8;
      text-align:center;
      font-family:'Comic Sans MS',cursive;
      appearance:textfield;
      -moz-appearance:textfield;
    }

    /* ===== BUTTONS & GRADING ===== */
    .button-container{display:flex;gap:10px;margin-top:20px;justify-content:center}
    .btn{padding:12px 24px;font-size:16px;color:#fff;border:none;border-radius:6px;cursor:pointer;
      font-family:'Comic Sans MS',cursive;transition:background 0.2s ease;}
    .generate-btn{background:#2ecc71}.generate-btn:hover{background:#27ae60}
    .check-btn{background:#3498db}.check-btn:hover{background:#2980b9}
    .static-btn{background:#9b59b6}.static-btn:hover{background:#8e44ad}
    .save-btn{background:#e67e22}.save-btn:hover{background:#d35400}

    .grade-display{margin-top:20px;font-size:18px;text-align:center}
    .grade-display.correct{color:#2ecc71}
    .grade-display.incorrect{color:#e74c3c}
  </style>
</head>
<body>
  <div class="header">
    <h1>Variable Substitution Worksheet</h1>
    <div class="input-row">
      <p>Name: <input type="text" id="studentName" placeholder="Enter your name"></p>
      <p>Date: <input type="text" id="date" placeholder="MM/DD/YYYY"></p>
    </div>
  </div>

  <div class="example-box">
    <h3>Examples:</h3>
    <p>1. If x = 5, then x + 3 = 8</p>
    <p>2. If x = 4 and y = 2, then x + y = 6</p>
    <p>3. If x = 3, y = 2, and z = 1, then x + y + z = 6</p>
    <p>Substitute the given values for the variables and solve!</p>
  </div>

  <div class="problems-grid" id="problemsGrid"></div>

  <div class="button-container">
    <button class="btn generate-btn" onclick="generateProblems()">Generate New Problems</button>
    <button class="btn check-btn" onclick="checkAnswers()">Check Answers</button>
        <button class="btn print-btn" onclick="window.print()">Print</button>
  </div>

  <div class="grade-display" id="gradeDisplay"></div>

<script>
  const rnd=(min,max)=>Math.floor(Math.random()*(max-min+1))+min;

  function makeEquation(){
    const type = rnd(1,3); // 1: single variable, 2: two variables, 3: three variables
    const x = rnd(1,9);
    const y = rnd(1,9);
    const z = rnd(1,9);
    
    let equation, answer;
    switch(type) {
      case 1:
        const addend = rnd(1,9);
        equation = `
          <div class="variables">If x = ${x}</div>
          <div class="question">then x + ${addend} = ?</div>`;
        answer = x + addend;
        break;
      case 2:
        equation = `
          <div class="variables">
            If x = ${x}<br>
            and y = ${y}
          </div>
          <div class="question">then x + y = ?</div>`;
        answer = x + y;
        break;
      case 3:
        equation = `
          <div class="variables">
            If x = ${x}<br>
            y = ${y}<br>
            and z = ${z}
          </div>
          <div class="question">then x + y + z = ?</div>`;
        answer = x + y + z;
        break;
    }
    return {equation, answer};
  }

  function generateProblems(){
    const grid=document.getElementById('problemsGrid');
    grid.innerHTML='';
    for(let i=1;i<=16;i++){
      const {equation,answer}=makeEquation();
      const div=document.createElement('div');
      div.className='problem';
      div.setAttribute('data-number',i);
      div.setAttribute('data-answer',answer);
      div.innerHTML=`
        <div class="equation">${equation}</div>
        <div class="answer-line">Answer: <input type="number" step="1" min="0" max="30"></div>`;
      grid.appendChild(div);
    }
    document.getElementById('gradeDisplay').textContent='';
  }

  function generateStaticProblems(){
    const staticSet=[
      {eq:'<div class="variables">If x = 5</div><div class="question">then x + 3 = ?</div>',ans:8},
      {eq:'<div class="variables">If x = 4<br>and y = 2</div><div class="question">then x + y = ?</div>',ans:6},
      {eq:'<div class="variables">If x = 3<br>y = 2<br>and z = 1</div><div class="question">then x + y + z = ?</div>',ans:6},
      {eq:'<div class="variables">If x = 7</div><div class="question">then x + 4 = ?</div>',ans:11},
      {eq:'<div class="variables">If x = 6<br>and y = 3</div><div class="question">then x + y = ?</div>',ans:9},
      {eq:'<div class="variables">If x = 2<br>y = 3<br>and z = 4</div><div class="question">then x + y + z = ?</div>',ans:9},
      {eq:'<div class="variables">If x = 8</div><div class="question">then x + 5 = ?</div>',ans:13},
      {eq:'<div class="variables">If x = 5<br>and y = 4</div><div class="question">then x + y = ?</div>',ans:9},
      {eq:'<div class="variables">If x = 1<br>y = 2<br>and z = 3</div><div class="question">then x + y + z = ?</div>',ans:6},
      {eq:'<div class="variables">If x = 9</div><div class="question">then x + 6 = ?</div>',ans:15},
      {eq:'<div class="variables">If x = 3<br>and y = 7</div><div class="question">then x + y = ?</div>',ans:10},
      {eq:'<div class="variables">If x = 4<br>y = 5<br>and z = 6</div><div class="question">then x + y + z = ?</div>',ans:15},
      {eq:'<div class="variables">If x = 2</div><div class="question">then x + 8 = ?</div>',ans:10},
      {eq:'<div class="variables">If x = 8<br>and y = 1</div><div class="question">then x + y = ?</div>',ans:9},
      {eq:'<div class="variables">If x = 7<br>y = 8<br>and z = 9</div><div class="question">then x + y + z = ?</div>',ans:24},
      {eq:'<div class="variables">If x = 6</div><div class="question">then x + 7 = ?</div>',ans:13}
    ];
    const grid=document.getElementById('problemsGrid');
    grid.innerHTML='';
    staticSet.forEach(({eq,ans},i)=>{
      const div=document.createElement('div');
      div.className='problem';
      div.setAttribute('data-number',i+1);
      div.setAttribute('data-answer',ans);
      div.innerHTML=`
        <div class="equation">${eq}</div>
        <div class="answer-line">Answer: <input type="number" step="1" min="0" max="30"></div>`;
      grid.appendChild(div);
    });
    document.getElementById('gradeDisplay').textContent='';
  }

  function checkAnswers(){
    const problems=document.querySelectorAll('.problem');
    let correct=0;
    problems.forEach(p=>{
      const input=p.querySelector('input');
      const ans=parseInt(p.getAttribute('data-answer'));
      const user=parseInt(input.value);
      if(user===ans){
        p.classList.add('correct');
        p.classList.remove('incorrect');
        correct++;
      } else {
        p.classList.add('incorrect');
        p.classList.remove('correct');
        // Show correct answer in red
        const answerLine = p.querySelector('.answer-line');
        const correctAnswer = document.createElement('span');
        correctAnswer.style.color = '#dc3545';
        correctAnswer.style.marginLeft = '5px';
        correctAnswer.textContent = ans;
        // Remove any existing correct answer
        const existingAnswer = answerLine.querySelector('span');
        if (existingAnswer) {
          existingAnswer.remove();
        }
        answerLine.appendChild(correctAnswer);
      }
    });
    const perc=Math.round((correct/problems.length)*100);
    const gd=document.getElementById('gradeDisplay');
    gd.textContent=`Score: ${correct}/${problems.length} (${perc}%)`;
    gd.className='grade-display '+(perc>=70?'correct':'incorrect');
  }

  function saveWorksheet(){
    const name=document.getElementById('studentName').value||'Anonymous';
    const date=document.getElementById('date').value||new Date().toLocaleDateString();
    document.getElementById('studentName').value=name;
    document.getElementById('date').value=date;
    window.print();
  }

  generateProblems();
</script>
</body>
</html> 